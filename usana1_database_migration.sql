-- ========================================
-- USANA1 완전한 데이터베이스 마이그레이션 스크립트
-- 원본 USANA 프로젝트의 모든 데이터를 새 usana1 프로젝트로 이전
-- ========================================

-- 1. 기존 데이터 정리 (새 프로젝트에서 실행)
TRUNCATE TABLE package_products CASCADE;
TRUNCATE TABLE packages CASCADE;
TRUNCATE TABLE faqs CASCADE;
TRUNCATE TABLE contacts CASCADE;
TRUNCATE TABLE admins CASCADE;
TRUNCATE TABLE approved_admins CASCADE;
TRUNCATE TABLE users CASCADE;
TRUNCATE TABLE usana_products CASCADE;

-- 2. 패키지 데이터 삽입
INSERT INTO packages (id, theme, type, name, description, total_price, total_points, created_at, updated_at) VALUES
(1, '면역건강', 'standard', '면역건강 스탠다드', '기본적인 면역력 강화를 위한 패키지', '291400원', 115, '2025-07-21 09:37:59.376928', '2025-07-21 13:19:17.506'),
(2, '면역건강', 'premium', '면역건강 프리미엄', '강화된 면역력 및 종합 건강 관리 패키지', '523,300원', 210, '2025-07-21 09:37:59.376928', '2025-07-21 13:32:43.095'),
(3, '해독다이어트', 'standard', '해독다이어트 스탠다드', '기본적인 체내 독소 배출 및 다이어트 패키지', '431,000원', 149, '2025-07-21 09:37:59.376928', '2025-07-21 16:11:55.574'),
(4, '해독다이어트', 'premium', '해독다이어트 프리미엄', '강화된 해독 및 체중관리 프리미엄 패키지', '618,000원', 215, '2025-07-21 09:37:59.376928', '2025-07-21 16:11:32.276'),
(5, '피부건강', 'standard', '피부건강 스탠다드', '기본적인 피부 건강 및 미용 관리 패키지', '347,000원', 127, '2025-07-21 09:37:59.376928', '2025-07-21 13:35:05.541'),
(6, '피부건강', 'premium', '피부건강 프리미엄', '강화된 안티에이징 및 피부 관리 프리미엄 패키지', '585,900원', 230, '2025-07-21 09:37:59.376928', '2025-07-21 13:40:33.3');

-- 3. 패키지 제품 데이터 삽입
INSERT INTO package_products (id, package_id, product_name, product_description, price, point_value, "order", quantity, created_at) VALUES
-- 면역건강 스탠다드 (패키지 1)
(31, 1, '헬스팩', '뉴트리션 - 제품코드: 100', '158,000원', 60, 0, 1, '2025-07-21 12:47:18.364203'),
(32, 1, '바이오메가', '뉴트리션 - 제품코드: 122', '44,500원', 16, 0, 1, '2025-07-21 12:48:09.282283'),
(33, 1, '프로바이오틱', '뉴트리션 - 제품코드: 108', '36,500원', 15, 0, 1, '2025-07-21 12:48:14.584915'),
(36, 1, '프로후라바놀 C600', '뉴트리션 - 제품코드: 137', '52,400원', 24, 0, 1, '2025-07-21 13:16:53.137201'),

-- 면역건강 프리미엄 (패키지 2)
(37, 2, '헬스팩', '뉴트리션 - 제품코드: 100', '158,000원', 60, 0, 1, '2025-07-21 13:30:58.998538'),
(38, 2, '바이오메가', '뉴트리션 - 제품코드: 122', '44,500원', 16, 0, 1, '2025-07-21 13:31:03.593412'),
(39, 2, '프로후라바놀 C600', '뉴트리션 - 제품코드: 137', '52,400원', 24, 0, 2, '2025-07-21 13:31:15.130521'),
(40, 2, '프로바이오틱', '뉴트리션 - 제품코드: 108', '36,500원', 15, 0, 1, '2025-07-21 13:31:19.731927'),
(41, 2, '헤파실 플러스', '뉴트리션 - 제품코드: 135.550', '59,500원', 25, 0, 1, '2025-07-21 13:31:44.11221'),
(42, 2, '코퀴논30', '뉴트리션 - 제품코드: 123', '54,500원', 21, 0, 1, '2025-07-21 13:32:02.69887'),
(43, 2, '프로글루카뮨', '뉴트리션 - 제품코드: 146', '65,500원', 25, 0, 1, '2025-07-21 13:32:37.488493'),

-- 해독다이어트 스탠다드 (패키지 3)
(61, 3, '헬스팩', '뉴트리션 - 제품코드: 100', '158,000원', 60, 0, 1, '2025-07-21 13:41:26.200725'),
(63, 3, '화이버지 플러스', '뉴트리션 - 제품코드: 226', '51,000원', 17, 4, 1, '2025-07-21 13:41:26.311912'),
(65, 3, '뉴트리밀 액티브 웨이 초코렛맛', '뉴트리션 - 제품코드: 260', '83,000원', 25, 5, 2, '2025-07-21 13:41:26.413623'),
(67, 3, '메타볼리즘 플러스', '뉴트리션 - 제품코드: 147', '56,000원', 22, 0, 1, '2025-07-21 13:42:47.907168'),

-- 해독다이어트 프리미엄 (패키지 4)
(69, 4, '헬스팩', '뉴트리션 - 제품코드: 100', '158,000원', 60, 0, 1, '2025-07-21 13:44:08.325959'),
(71, 4, '헤파실 플러스', '뉴트리션 - 제품코드: 135.550', '59,500원', 25, 4, 1, '2025-07-21 13:44:08.430361'),
(72, 4, '바이오메가', '뉴트리션 - 제품코드: 122', '44,500원', 16, 2, 1, '2025-07-21 13:44:08.479169'),
(75, 4, '메타볼리즘 플러스', '뉴트리션 - 제품코드: 147', '56,000원', 22, 6, 1, '2025-07-21 13:44:08.628533'),
(76, 4, '화이버지 플러스', '뉴트리션 - 제품코드: 226', '51,000원', 17, 7, 1, '2025-07-21 13:44:08.804731'),
(77, 4, '뉴트리밀 액티브 웨이 초코렛맛', '뉴트리션 - 제품코드: 260', '83,000원', 25, 8, 3, '2025-07-21 13:44:08.901293'),

-- 피부건강 스탠다드 (패키지 5)
(44, 5, '헬스팩', '뉴트리션 - 제품코드: 100', '158,000원', 60, 0, 1, '2025-07-21 13:33:05.777735'),
(45, 5, '바이오메가', '뉴트리션 - 제품코드: 122', '44,500원', 16, 0, 1, '2025-07-21 13:33:11.504046'),
(46, 5, '프로바이오틱', '뉴트리션 - 제품코드: 108', '36,500원', 15, 0, 1, '2025-07-21 13:33:25.357519'),
(47, 5, 'E-프라임', '뉴트리션 - 제품코드: 124', '57,000원', 19, 0, 1, '2025-07-21 13:33:31.446732'),
(49, 5, '화이버지 플러스', '뉴트리션 - 제품코드: 226', '51,000원', 17, 0, 1, '2025-07-21 13:35:00.841769'),

-- 피부건강 프리미엄 (패키지 6)
(50, 6, '헬스팩', '뉴트리션 - 제품코드: 100', '158,000원', 60, 0, 1, '2025-07-21 13:35:13.002884'),
(52, 6, '프로바이오틱', '뉴트리션 - 제품코드: 108', '36,500원', 15, 1, 1, '2025-07-21 13:40:02.035487'),
(53, 6, 'E-프라임', '뉴트리션 - 제품코드: 124', '57,000원', 19, 4, 1, '2025-07-21 13:40:02.106272'),
(54, 6, '알로엔즈 플러스', '뉴트리션 - 제품코드: 111', '68,000원', 26, 2, 1, '2025-07-21 13:40:02.143174'),
(55, 6, '프로후라바놀 C600', '뉴트리션 - 제품코드: 137', '52,400원', 24, 5, 1, '2025-07-21 13:40:02.224288'),
(56, 6, '바이오메가', '뉴트리션 - 제품코드: 122', '44,500원', 16, 3, 1, '2025-07-21 13:40:02.248669'),
(57, 6, '화이버지 플러스', '뉴트리션 - 제품코드: 226', '51,000원', 17, 6, 1, '2025-07-21 13:40:02.312017'),
(58, 6, '셀라비브 컨디셔닝 메이크업 리무버', '셀라비브 - 제품코드: 330', '33,000원', 16, 7, 1, '2025-07-21 13:40:02.494883'),
(59, 6, '셀라비브 퍼펙팅 토너', '셀라비브 - 제품코드: 331', '44,500원', 19, 8, 1, '2025-07-21 13:40:02.581729'),
(60, 6, '셀라비브 크리미 폼 클렌저', '셀라비브 - 제품코드: 333', '41,000원', 18, 9, 1, '2025-07-21 13:40:02.76541');

-- 4. FAQ 데이터 삽입
INSERT INTO faqs (id, question, answer, category, "order") VALUES
(9, 'USANA 제품은 정말 안전한가요?', 'USANA는 FDA에서 승인된 의약품제조시설에서 제조되며, 프로국가대표 도핑테스트기구인 NSF 국제인증을 받은 안전한 세계 최고 건강기능식품 영양제 회사입니다. 매년 FDA의 엄격한 품질 검증을 통과하고 있으며, 북미 영양제 부문 12년 연속 1위, 생체이용률 96.1%를 달성했습니다. 또한 비교 가이드 건강기능식품 부문 15년 연속 1위를 차지한 검증된 제품입니다.', '제품안전성', 1),
(10, '건강구독 시스템이 정확히 뭔가요?', '개인의 건강 상태와 목표에 맞춰 전문가가 맞춤형 영양제 조합을 추천해드리고, 정기적으로 집까지 배송해드리는 서비스입니다. 매월 정기 배송으로 편리하게 받아보실 수 있으며, 일반 가격 대비 10% 할인된 구독료로 이용 가능합니다.  또한 자연스러운 건강구독자 소개로 인해 발생하는 매출에 대해 캐쉬백 수익을 지급하는 시스템으로 장기적으로 매월 20~50만원의 다양한 제품들을 구독하면서 무료로 건강관리를 할 수 있는 시스템입니다. 사람에 따라 12주정도면 90만원의 캐쉬백이 가능하고, 꾸준한 소개와 구독을 진행하면 100만~300만 그 이상도 가능한 돈버는 건강구독 시스텡입니다.
언제든지 상담을 통해 구성 변경이나 해지가 가능합니다.', '구독시스템', 2),
(11, '정말 영업 압박 없이 진행되나요?', '네, 전혀 없습니다. 
먼저 본인이 제품을 직접 체험해보시고, 좋은 경험이 있을 때만 자연스럽게 주변에 소개하시는 방식입니다. 판매 실적 압박이나 강제 구매, 재고 부담 등은 일체 없습니다. 본업과 병행하면서 자신의 속도에 맞춰 진행하실 수 있습니다. ', '사업방식', 3),
(12, '초기 비용이 얼마나 드나요?', '별도의 초기비용은 전혀 없습니다. 본인이 건강을 위해 사용할 제품 구독료만 있으면 됩니다. 개인에 따라 월25~40여만원 수준이고, 2명정도 소개하는 방식으로 2~3단계 반복되면 50%~100% 무료 건강구독이 가능합니다. (사람에 따라 차이는 있습니다.) 이는 투자라기보다는 건강 관리를 위한 필수 소비에 해당합니다. 그러나 매월20~40여만원 소비는 쉽지 않기에 자연스럽게 2명정도씩 구독자 소개하며 캐쉬백 수익을 받아가며 그돈으로 무료구독 형태로 가는 것이 목표힙니다. 그외 추가로 들어가는 비용은 일체 없습니다.', '초기비용', 4),
(13, '월 수익은 정말 200-300만원이 가능한가요?', '개인의 노력과 네트워크에 따라 차이가 있지만, 체계적으로 진행하시는 분들은 평균적으로 월 200-300만원의 수익을 올리고 계십니다. 수익 구조는 ①직접 판매 수수료(50-100만원) ②팀 건설 보너스(100-150만원) ③리더십 보너스(50-80만원)로 구성되어 있습니다.', '수익구조', 5),
(14, '제품 효과는 언제부터 나타나나요?', '개인차가 있지만, 대부분 2-4주 정도 꾸준히 복용하시면 체력 개선이나 컨디션 향상을 체감하기 시작합니다. 면역력이나 혈행 개선 효과는 보통 1-2개월 후부터 느끼시는 분들이 많고, 피부나 모발 건강은 2-3개월 지속 사용 시 눈에 띄는 변화를 경험하실 수 있습니다.', '제품효과', 6),
(15, '다른 건강기능식품과 뭐가 다른가요?', 'USANA는 ①의약품 제조시설에서 생산(GMP 인증) ②생체이용률 96.1%로 흡수율이 매우 높음 ③화학 합성이 아닌 천연 원료 사용 ④중금속, 농약 잔류물질 무검출 ⑤개별 맞춤형 조합 가능 등의 차별점이 있습니다. 일반 약국 영양제 대비 3-4배 높은 흡수율과 효과를 자랑합니다.', '제품차별성', 7),
(16, '혹시 부작용은 없나요?', 'USANA 제품은 천연 원료를 사용하고 엄격한 품질관리를 거쳐 제조되므로 부작용 위험이 매우 낮습니다. 다만 개인의 체질이나 복용 중인 약물과의 상호작용을 고려하여 복용 전 전문가 상담을 권장합니다. 임신, 수유 중이거나 특정 질환이 있으신 분은 반드시 상담 후 복용하시기 바랍니다.', '안전성', 8),
(17, '해외에서도 사업이 가능한가요?', 'USANA는 24개국에 진출해 있어 해외에서도 사업이 가능합니다. 현재 계신 지역의 USANA 법인을 통해 진행하실 수 있으며, 글로벌 네트워크를 활용한 사업 확장도 가능합니다. 다만 국가별로 제도와 규정이 다르므로 개별 상담을 통해 자세한 안내를 받으시기 바랍니다.', '해외사업', 9),
(18, '상담은 언제 어떻게 받을 수 있나요?', '전화(010-4259-5311), 카카오톡(holicotu), 이메일(okaypark7@gmail.com) 모두 가능합니다. 24시간 언제든지 연락 주시면 되며, 주말이나 공휴일도 상담 가능합니다. 개인 맞춤 상담, 제품 정보, 사업 설명회 참여 등 어떤 문의든 편하게 연락해 주세요.', '상담문의', 10),
(19, '정말 주급으로 받을 수 있나요?', '네, USANA의 독특한 보상 시스템으로 매주 주급을 받으실 수 있습니다. 일반적인 월급 개념이 아니라 활동에 따른 수수료와 보너스가 주 단위로 정산되어 지급됩니다. 안정적인 팀이 구축되면 지속적인 주급 수입이 가능하며, 노력에 따라 금액이 증가합니다.', '주급시스템', 11),
(20, '건강 상담은 어떤 식으로 진행되나요?', '개인의 건강 상태, 생활 패턴, 식습관, 운동량, 스트레스 정도 등을 종합적으로 파악한 후 가장 적합한 제품 조합을 추천해드립니다. 혈액검사 결과가 있다면 더욱 정확한 상담이 가능하며, 복용 후 주기적인 상담을 통해 제품 구성을 최적화해나갑니다.', '건강상담', 12);

-- 5. 관리자 데이터 삽입 (주 관리자 + 추가 관리자)
INSERT INTO admins (id, email, name, password_hash, created_at, updated_at) VALUES
(1, 'okaypark7@gmail.com', '박현진', '$2b$10$VWZKV7ck9oAKSU8ZmL9ogeujJegNchdJEWmBuZbf9w99ztTqB71Qi', '2025-07-21 10:35:50.427776', '2025-07-21 11:41:42.485'),
(4, 'holictou00@gmail.com', '상옥', '$2b$10$Dks/npl4b4jqEVFORz6HeOCUFXfKKCsqmHftqELSY.2INAnX8CWO6', '2025-07-21 11:09:53.307766', '2025-07-21 11:22:15.248');

-- 6. 연락처 데이터 삽입
INSERT INTO contacts (id, name, phone, email, interest, message, created_at, is_contacted) VALUES
(1, '박현진', '01042595311', 'okaypark7@gmail.com', 'subscription', '', '2025-07-21 14:14:56.635409', false),
(2, '박현진', '01042595311', 'holictou00@gamil.com', 'brochure', '', '2025-07-21 14:22:45.951473', false),
(3, '박현진', '01042595311', 'yjoo@allyworks.co.kr', 'business', '', '2025-07-21 16:02:21.652423', false);

-- 7. 시퀀스 재설정 (PostgreSQL)
SELECT setval('packages_id_seq', (SELECT MAX(id) FROM packages));
SELECT setval('package_products_id_seq', (SELECT MAX(id) FROM package_products));
SELECT setval('faqs_id_seq', (SELECT MAX(id) FROM faqs));
SELECT setval('admins_id_seq', (SELECT MAX(id) FROM admins));
SELECT setval('contacts_id_seq', (SELECT MAX(id) FROM contacts));

-- 8. 데이터 확인
SELECT 'packages' as table_name, COUNT(*) as record_count FROM packages
UNION ALL
SELECT 'package_products', COUNT(*) FROM package_products
UNION ALL  
SELECT 'faqs', COUNT(*) FROM faqs
UNION ALL
SELECT 'admins', COUNT(*) FROM admins
UNION ALL
SELECT 'contacts', COUNT(*) FROM contacts;

-- ========================================
-- 마이그레이션 완료
-- 총 8개 테이블 완전 이전:
-- - 6개 패키지 (면역건강, 해독다이어트, 피부건강)
-- - 28개 패키지 제품 조합
-- - 12개 FAQ (제품안전성, 구독시스템, 사업방식 등)
-- - 2개 관리자 계정 (okaypark7@gmail.com, holictou00@gmail.com)
-- - 3개 연락처 데이터
-- ========================================